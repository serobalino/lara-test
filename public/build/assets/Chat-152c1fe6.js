import{_ as x}from"./AuthenticatedLayout-fa1dd7c2.js";import{H as y,r as h,o,c as a,a as g,w as m,F as l,b as e,d as u,n as v,l as w,y as k,t as i,e as I,z as C,A}from"./app-4096caa5.js";import{s as j}from"./index-917a4418.js";import{_ as H}from"./ApplicationLogo-e9ac03b6.js";const B={name:"Chat",data:()=>({pregunta:"",isImg:!1,procesando:!1,preguntas:[],error:null}),props:["auth"],components:{Head:y,AuthenticatedLayout:x},methods:{preguntar(){this.procesando=!0,this.error=null,j.chat(this.pregunta,this.isImg).then(s=>{this.preguntas.push({...s.data.data,pregunta:this.pregunta,tipo:this.isImg}),this.procesando=!1,this.pregunta=""}).catch(s=>{this.error=s.response.data,this.procesando=!1})},scroll(){const s=document.getElementById("messages");s.scrollTop=s.scrollHeight},saludo(){const s=this.auth.user.name;this.preguntas.push({tipo:!1,choices:[{text:`Hola ${s}, en que te puedo ayudar?`}]})}},mounted(){this.saludo(),this.scroll()}},d=s=>(C("data-v-ec1f185f"),s=s(),A(),s),V=d(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Chat IA",-1)),z={class:"py-12"},$={class:"container mx-auto w-3/4"},E={class:"flex-1 p:2 sm:p-6 justify-between flex flex-col h-screen bg-white shadow-lg rounded-lg"},L={id:"messages",class:"flex flex-col space-y-4 p-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch"},M={class:"chat-message"},S={class:"flex items-end"},q={key:0,class:"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start"},D=["src"],N={class:"px-4 py-2 rounded-lg inline-block rounded-bl-none bg-gray-300 text-gray-600"},F=d(()=>e("div",{class:"w-6 h-6 rounded-full order-1 bg-red-600 text-center"},[e("small",{class:"text-white"},"IA")],-1)),T={key:0,class:"chat-message"},P={class:"flex items-end justify-end"},U={class:"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-1 items-end"},G={class:"px-4 py-2 rounded-lg inline-block rounded-br-none bg-blue-600 text-white"},J={class:"border-t-2 border-gray-200 px-4 pt-4 mb-2 sm:mb-0"},K={class:"relative flex"},O={class:"absolute inset-y-0 flex items-center"},Q=["disabled"],R=d(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6 w-6 text-gray-600"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),W=[R],X=["disabled","placeholder"],Y={class:"absolute right-0 items-center inset-y-0 hidden sm:flex"},Z=["disabled"],ee={class:"font-bold"},se=d(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-6 w-6 ml-2 transform rotate-90"},[e("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})],-1));function te(s,n,oe,ae,ne,p){const _=h("Head"),f=h("AuthenticatedLayout");return o(),a(l,null,[g(_,{title:"Chat IA"}),g(f,null,{header:m(()=>[V]),default:m(()=>[e("div",z,[e("div",$,[e("div",E,[e("div",L,[(o(!0),a(l,null,u(s.preguntas,(t,c)=>(o(),a(l,{key:c},[e("div",M,[e("div",S,[t.tipo?(o(),a("div",q,[(o(!0),a(l,null,u(t.data,(r,b)=>(o(),a("img",{src:r.url,alt:"",key:b+"-imgs"+c},null,8,D))),128))])):(o(!0),a(l,{key:1},u(t.choices,r=>(o(),a("div",{class:"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start",key:r.index+1+"res"+c},[e("div",null,[e("span",N,i(r.text),1)])]))),128)),F])]),t.pregunta?(o(),a("div",T,[e("div",P,[e("div",U,[e("div",null,[e("span",G,i(t.pregunta),1)])])])])):I("",!0)],64))),128))]),e("div",J,[e("div",K,[e("span",O,[e("button",{disabled:s.procesando,type:"button",class:v(["inline-flex items-center justify-center rounded-full h-10 w-10 ml-1 transition duration-500 ease-in-out text-gray-500 focus:outline-none",{"bg-gray-300":!s.isImg,"bg-blue-500":s.isImg}]),onClick:n[0]||(n[0]=t=>s.isImg=!s.isImg)},W,10,Q)]),w(e("input",{disabled:s.procesando,type:"text","onUpdate:modelValue":n[1]||(n[1]=t=>s.pregunta=t),placeholder:s.isImg?"Describe que quieres dibujar":"Escribe un mensaje",class:"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 pl-12 placeholder-gray-600 bg-gray-200 rounded-md py-3"},null,8,X),[[k,s.pregunta]]),e("div",Y,[e("button",{type:"button",class:"inline-flex items-center justify-center rounded-lg px-4 py-3 transition duration-500 ease-in-out text-white bg-blue-500 hover:bg-blue-400 focus:outline-none",onClick:n[2]||(n[2]=(...t)=>p.preguntar&&p.preguntar(...t)),disabled:s.procesando||!s.pregunta},[e("span",ee,i(s.procesando?"Procesando":"Enviar"),1),se],8,Z)])]),e("pre",null,i(s.error),1)])])])])]),_:1})],64)}const ce=H(B,[["render",te],["__scopeId","data-v-ec1f185f"]]);export{ce as default};
